<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ุฑูุณุฑ ฑฑฐ ูููู | ูุฑูุดฺฏุงู ุฑูุณุฑ ูุฌูุณ ู ุฑูุฒูุฑู</title>

  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <link rel="icon" href="favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="style.css" />
</head>
<body class="light-theme">

  <header>
    <div class="logo">ุฑูุณุฑ ฑฑฐ ูููู</div>
    <nav>
      <span id="user-greeting" class="greeting"></span>
      <button id="manage-products-btn" class="btn btn-outline hidden" title="ูุฏุฑุช ูุญุตููุงุช">
        โ๏ธ ูุฏุฑุช ูุญุตููุงุช
      </button>
      <button id="theme-toggle" class="btn btn-outline" title="ุชุบุฑ ุชู">๐</button>
      <button id="logout-btn" class="btn btn-outline hidden" onclick="logout()">ุฎุฑูุฌ</button>
    </nav>
  </header>

  <div id="notification-toast" class="notification-toast hidden"></div>

  <main id="login-section" class="auth-container">
    <div class="auth-card">
      <h1>ูุฑูุฏ ุจู ูุฑูุดฺฏุงู</h1>
      <form id="login-form" onsubmit="event.preventDefault(); login();">
        <input type="text" id="username" placeholder="ูุงู ฺฉุงุฑุจุฑ" required autofocus />
        <input type="password" id="password" placeholder="ุฑูุฒ ุนุจูุฑ" required />
        <button type="submit" class="btn btn-primary">ูุฑูุฏ</button>
      </form>
    </div>
  </main>

  <main id="customer-section" class="hidden">
    <div class="container">
      <h1>ูุฌููุนู ุฑูุณุฑโูุง</h1>

      <div class="search-container">
        <input type="text" id="search-input" placeholder="ุฌุณุชุฌู ุฏุฑ ูุญุตููุงุช..." class="search-input" />
      </div>

      <div id="product-grid" class="product-grid"></div>

      <section class="cart-section fade-in">
        <h2>ุณุจุฏ ุฎุฑุฏ</h2>
        <div class="table-responsive">
          <table>
            <thead>
              <tr>
                <th>ูุญุตูู</th>
                <th>ููุช ูุงุญุฏ</th>
                <th>ุชุนุฏุงุฏ</th>
                <th>ุฌูุน</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="cart-items"></tbody>
            <tfoot>
              <tr>
                <td colspan="3" class="total-label">ุฌูุน ฺฉู:</td>
                <td id="cart-total" class="total-value">ฐ ุชููุงู</td>
                <td></td>
              </tr>
            </tfoot>
          </table>
        </div>

        <button onclick="window.location.href='checkout.html'" 
                class="btn btn-primary" 
                style="margin-top: 2rem; width: 100%; font-size: 1.25rem; padding: 1.1rem;">
          ููุง ฺฉุฑุฏู ุฎุฑุฏ โ
        </button>
      </section>
    </div>
  </main>

  <main id="admin-section" class="hidden">
    <div class="container">
      <h1>ูพูู ูุฏุฑุช</h1>
      <section>
        <h2>ููุฑุณุช ูุญุตููุงุช</h2>
        <div class="table-responsive">
          <table>
            <thead>
              <tr>
                <th>ูุงู ูุญุตูู</th>
                <th>ููุช (ุชููุงู)</th>
              </tr>
            </thead>
            <tbody id="admin-product-list"></tbody>
          </table>
        </div>
      </section>
    </div>
  </main>

  <!-- Modal ูุฏุฑุช ูุญุตููุงุช -->
  <div id="manage-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeModal('manage-modal')">ร</span>
      <h2>ฺู ฺฉุงุฑ ูโุฎูุงูุฏ ุงูุฌุงู ุฏูุฏุ</h2>
      <div class="options">
        <button class="option-btn add-btn" onclick="openModal('add-product-modal')">ุงุถุงูู ฺฉุฑุฏู ูุญุตูู</button>
        <button class="option-btn delete-btn" onclick="openModal('delete-product-modal')">ุญุฐู ูุญุตูู</button>
      </div>
    </div>
  </div>

  <!-- Modal ุงุถุงูู ูุญุตูู -->
  <div id="add-product-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeModal('add-product-modal')">ร</span>
      <h2>ุงุถุงูู ฺฉุฑุฏู ูุญุตูู ุฌุฏุฏ</h2>
      <form id="add-product-form" onsubmit="event.preventDefault(); addProduct();">
        <input type="text" id="new-name" placeholder="ูุงู ูุญุตูู (ุจุง ุฑูุณุฑ ุง ุดุงู ุดุฑูุน ุดูุฏ)" required />
        <input type="text" id="new-image" placeholder="ูุงู ุนฺฉุณ (ูุซู scarf5.jpg)" required />
        <input type="number" id="new-price" placeholder="ููุช (ฒฐฐฐฐฐ ุชุง ตฐฐฐฐฐฐ ุชููุงู)" min="200000" max="5000000" required />
        <button type="submit" class="btn btn-primary">ุชุงุฏ</button>
        <button type="button" class="btn btn-outline" onclick="closeModal('add-product-modal')">ุงูุตุฑุงู</button>
      </form>
    </div>
  </div>

  <!-- Modal ุญุฐู ูุญุตูู -->
  <div id="delete-product-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeModal('delete-product-modal')">ร</span>
      <h2>ุญุฐู ูุญุตูู</h2>
      <div id="delete-list" class="delete-list"></div>
    </div>
  </div>

  <!-- Modal ุชุงุฏ ุญุฐู -->
  <div id="confirm-delete-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeModal('confirm-delete-modal')">ร</span>
      <h2>ุขุง ุดูุง ุงุฒ ุญุฐู ฺฉุฑุฏู <span id="delete-product-name"></span> ูุทูุฆู ูุณุชุฏุ</h2>
      <div class="options">
        <button class="option-btn no-delete-btn" onclick="closeModal('confirm-delete-modal')">ุฎุฑุ ุญุฐู ูุดูุฏ</button>
        <button class="option-btn yes-delete-btn" onclick="confirmDeleteProduct()">ุจููุ ุญุฐู ุดูุฏ</button>
      </div>
    </div>
  </div>

  <button id="back-to-top" class="back-to-top" title="ุจุงุฒฺฏุดุช ุจู ุจุงูุง">โ</button>

  <script src="script.js"></script>
</body>
</html>